[Version]
7.1.1.313
[File Access]
0   
42435
! 
! 
! 
! 
! 
! Karosszéria gyártósor
! Miklós Árpád
! SZTE
5   1
POS_NEW
0   1
POS_OLD
1   1
IS_DONE
6   1
GRIP_NEW
13   1
GRIP_OLD
14   1
IS_VALID
33   1
[Export Parameter Count]
0
[Block Count]
43
[Block #0]
344   FCT1
POS_NEW
25 100 96 151  100
1
1
0 0 0   0
8
x
[Block #1]
344   FCT1
POS_OLD
25 200 96 251  100
1
1
0 0 0   0
8
x
[Block #2]
306   CONST
0b00000111
150 25 221 76  100
0
1
1 0 0   0
 7.00000000000000E+0000  0
[Block #3]
306   CONST
0b00000111
150 275 221 326  100
0
1
1 0 0   0
 7.00000000000000E+0000  0
[Block #4]
383   SUPERBLOCK
NEW && 0x07
150 100 221 151  100
2
1
0 0 0   0
D:\Current Studies\Diplomamunka\Karosszéria gyártósor - Szimuláció\common\bitwise_and_8bit.SBL
0
[Block #5]
383   SUPERBLOCK
OLD && 0x07
150 200 221 251  100
2
1
0 0 0   0
D:\Current Studies\Diplomamunka\Karosszéria gyártósor - Szimuláció\common\bitwise_and_8bit.SBL
0
[Block #6]
344   FCT1
IS_DONE
25 625 96 676  100
1
1
0 0 0   0
8
x
[Block #7]
0   Text
Text
850 125 998 146  100
0
0
0 0 0   0
Ekvivalens C kód:
14   0   0   0   16777215   0   0
ARIAL
[Block #8]
0   Text
Text
850 150 2089 517  100
0
0
0 0 0   0
#define get_bit(var, bit) ((var >> bit) && 1)void crane_position_validator(unsigned char pos_new, unsigned char pos_old, bool grip_new, bool grip_old, bool is_done) {  bool allowed_1, allowed_2;  bool denied_1, denied_2;    /* A jelenlegi és az új pozíciók maszkolása. */  pos_new &&= 0x07;  pos_old &&= 0x07;    /* Az állapotátmenetének tesztelése az engedélyezett esetekre. */  allowed_1 = (get_bit(pos_new, 2) == get_bit(pos_old, 2)) &&&& (get_bit(pos_new, 1) == get_bit(pos_old, 1)) &&&& (get_bit(pos_new, 0) != get_bit(pos_old, 0));  allowed_2 = get_bit(pos_new, 0) &&&& get_bit(pos_old, 0);  allowed_3 = (pos_new == pos_old) &&&& (grip_new == grip_old);  allowed_4 = (grip_new != grip_old) &&&& !get_bit(pos_old, 0);    /* Tiltott állapotátmenetek vizsgálata. */  denied_1 = ((pos_new != pos_old) || (grip_new != grip_old)) &&&& !is_done;  denied_2 = get_bit(pos_old, 0) &&&& grip_new;    /* A daru állapotátmenetének érvényesítése és az eredmény visszaadása. */  return (allowed_1 || allowed_2 || allowed_3 || allowed_4) &&&& !(denied_1 || denied_2);}
10   0   0   0   16777215   0   0
Courier New
[Block #9]
0   Text
Text
850 25 908 46  100
0
0
0 0 0   0
Leírás:
14   0   0   0   16777215   0   0
ARIAL
[Block #10]
0   Text
Text
850 50 1428 83  100
0
0
0 0 0   0
Érvényesíti a daru új pozícióját és a megfogó új állapotát a jelenlegi pozíciójától a megfogójelenlegi állapotától függõen.
11   0   0   0   16777215   0   0
Arial
[Block #11]
0   Text
Text
850 550 956 571  100
0
0
0 0 0   0
Megjegyzés:
14   0   0   0   16777215   0   0
ARIAL
[Block #12]
0   Text
Text
850 575 1345 608  100
0
0
0 0 0   0
A fenti C kód csak szemléltetõ jellegû, és csak a blokkdiagram mûködésénekkönnyebb megértését szolgálja.
11   0   0   0   16777215   0   0
Arial
[Block #13]
344   FCT1
GRIP_NEW
25 400 96 451  100
1
1
0 0 0   0
8
x
[Block #14]
344   FCT1
GRIP_OLD
25 500 96 551  100
1
1
0 0 0   0
8
x
[Block #15]
447   DECODER
POS_NEW
350 25 421 91  100
1
3
0 0 0   0
3   0
0
[Block #16]
447   DECODER
POS_OLD
350 150 421 216  100
1
3
0 0 0   0
3   0
0
[Block #17]
355   LOGIC2
B0_NE
475 25 546 76  100
2
1
0 0 0   0
5
[Block #18]
355   LOGIC2
B1_EQ
475 100 546 151  100
2
1
0 0 0   0
4
[Block #19]
355   LOGIC2
B2_EQ
475 175 546 226  100
2
1
0 0 0   0
4
[Block #20]
396   LOGIC
AND
575 100 646 166  100
3
1
0 0 0   0
0
[Block #21]
383   SUPERBLOCK
GET_BIT(NEW, 0)
350 275 421 326  100
2
1
0 0 0   0
D:\Current Studies\Diplomamunka\Karosszéria gyártósor - Szimuláció\common\get_bit_8bit.SBL
0
[Block #22]
306   CONST
CONST: 0
475 275 546 326  100
0
1
1 0 0   0
 0.00000000000000E+0000  0
[Block #23]
355   LOGIC2
AND
575 300 646 351  100
2
1
0 0 0   0
0
[Block #24]
383   SUPERBLOCK
GET_BIT(OLD, 0)
350 350 421 401  100
2
1
0 0 0   0
D:\Current Studies\Diplomamunka\Karosszéria gyártósor - Szimuláció\common\get_bit_8bit.SBL
0
[Block #25]
306   CONST
CONST: 0
475 350 546 401  100
0
1
1 0 0   0
 0.00000000000000E+0000  0
[Block #26]
362   COMPARATOR
P_NEW != P_OLD
350 925 421 976  100
2
1
0 0 0   0
5
[Block #27]
355   LOGIC2
OR
475 950 546 1001  100
2
1
0 0 0   0
1
[Block #28]
362   COMPARATOR
G_NEW != G_OLD
350 1000 421 1051  100
2
1
0 0 0   0
5
[Block #29]
354   LOGIC1
NOT_DONE
350 1075 421 1126  100
1
1
0 0 0   0
0
[Block #30]
355   LOGIC2
AND
575 1025 646 1076  100
2
1
0 0 0   0
0
[Block #31]
396   LOGIC
ALLOWED
700 400 771 484  100
4
1
0 0 0   0
1
[Block #32]
396   LOGIC
DENIED
700 1100 771 1151  100
2
1
0 0 0   0
3
[Block #33]
355   LOGIC2
IS_VALID
700 850 771 901  100
2
1
0 0 0   0
0
[Block #34]
362   COMPARATOR
P_NEW == P_OLD
350 450 421 501  100
2
1
0 0 0   0
2
[Block #35]
355   LOGIC2
AND
475 475 546 526  100
2
1
0 0 0   0
0
[Block #36]
362   COMPARATOR
G_NEW == G_OLD
350 525 421 576  100
2
1
0 0 0   0
2
[Block #37]
362   COMPARATOR
G_NEW != G_OLD
350 625 421 676  100
2
1
0 0 0   0
5
[Block #38]
383   SUPERBLOCK
GET_BIT(OLD, 0)
350 700 421 751  100
2
1
0 0 0   0
D:\Current Studies\Diplomamunka\Karosszéria gyártósor - Szimuláció\common\get_bit_8bit.SBL
0
[Block #39]
306   CONST
CONST: 0
350 775 421 826  100
0
1
1 0 0   0
 0.00000000000000E+0000  0
[Block #40]
355   LOGIC2
AND
575 700 646 751  100
2
1
0 0 0   0
0
[Block #41]
354   LOGIC1
NOT
475 700 546 751  100
1
1
0 0 0   0
0
[Block #42]
354   LOGIC1
FALSE
575 1175 646 1226  100
0
1
0 0 0   0
2
[Connection Count]
51
[Connection #0]
2   1   4   1   33023   -1   -25 -25 -25 -25 -25 -25 -25 -25 -25 -25 -25 -25 -25 -25 -25 -25 
[Connection #1]
3   1   5   2   33023   -1   -25 -25 -25 -25 -25 -25 -25 -25 -25 -25 -25 -25 -25 -25 -25 -25 
[Connection #2]
39   1   38   2   0   -1   -1600 -3950 -1600 -3950 -1600 -3950 -1600 -3950 -1600 -3950 -1600 -3950 -1600 -3950 -1600 -3950 
[Connection #3]
18   1   20   2   32768   -1   -350 -25 -350 -25 -350 -25 -350 -25 -350 -25 -350 -25 -350 -25 -350 -25 
[Connection #4]
41   1   40   2   32768   -1   0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 
[Connection #5]
19   1   20   3   16711680   -1   -350 -25 -350 -25 -350 -25 -350 -25 -350 -25 -350 -25 -350 -25 -350 -25 
[Connection #6]
17   1   20   1   255   -1   -350 -25 -350 -25 -350 -25 -350 -25 -350 -25 -350 -25 -350 -25 -350 -25 
[Connection #7]
27   1   30   1   33023   -1   0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 
[Connection #8]
15   1   17   1   255   -1   -350 -25 -350 -25 -350 -25 -350 -25 -350 -25 -350 -25 -350 -25 -350 -25 
[Connection #9]
38   1   41   1   255   -1   0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 
[Connection #10]
0   1   4   2   16711680   -1   -25 -25 -25 -25 -25 -25 -25 -25 -25 -25 -25 -25 -25 -25 -25 -25 
[Connection #11]
1   1   5   1   255   -1   -25 -25 -25 -25 -25 -25 -25 -25 -25 -25 -25 -25 -25 -25 -25 -25 
[Connection #12]
16   3   19   2   16711680   -1   -350 -25 -350 -25 -350 -25 -350 -25 -350 -25 -350 -25 -350 -25 -350 -25 
[Connection #13]
26   1   27   1   16711680   -1   0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 
[Connection #14]
34   1   35   1   16711680   -1   -350 -675 -350 -675 -350 -675 -350 -675 -350 -675 -350 -675 -350 -675 -350 -675 
[Connection #15]
28   1   27   2   255   -1   0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 
[Connection #16]
36   1   35   2   255   -1   -350 -675 -350 -675 -350 -675 -350 -675 -350 -675 -350 -675 -350 -675 -350 -675 
[Connection #17]
16   2   18   2   32768   -1   -350 -25 -350 -25 -350 -25 -350 -25 -350 -25 -350 -25 -350 -25 -350 -25 
[Connection #18]
15   2   18   1   32768   -1   -350 -25 -350 -25 -350 -25 -350 -25 -350 -25 -350 -25 -350 -25 -350 -25 
[Connection #19]
30   1   32   1   255   -1   0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 
[Connection #20]
16   1   17   2   255   -1   -350 -25 -350 -25 -350 -25 -350 -25 -350 -25 -350 -25 -350 -25 -350 -25 
[Connection #21]
23   1   31   2   32768   -1   0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 
[Connection #22]
15   3   19   1   16711680   -1   -350 -25 -350 -25 -350 -25 -350 -25 -350 -25 -350 -25 -350 -25 -350 -25 
[Connection #23]
40   1   31   4   32768   -1   0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 
[Connection #24]
20   1   31   1   32768   -1   0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 
[Connection #25]
32   1   33   2   32768   -1   0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 
[Connection #26]
31   1   33   1   32768   -1   0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 
[Connection #27]
22   1   21   2   0   -1   -1450 -3825 -1450 -3825 -1450 -3825 -1450 -3825 -1450 -3825 -1450 -3825 -1450 -3825 -1450 -3825 
[Connection #28]
25   1   24   2   0   -1   -900 -2525 -900 -2525 -900 -2525 -900 -2525 -900 -2525 -900 -2525 -900 -2525 -900 -2525 
[Connection #29]
5   1   16   1   255   -1   0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 
[Connection #30]
4   1   15   1   16711680   -1   0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 
[Connection #31]
5   1   24   1   255   -1   0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 
[Connection #32]
4   1   21   1   16711680   -1   0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 
[Connection #33]
5   1   34   2   255   -1   0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 
[Connection #34]
4   1   34   1   16711680   -1   0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 
[Connection #35]
5   1   38   1   255   -1   0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 
[Connection #36]
5   1   26   2   255   -1   0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 
[Connection #37]
4   1   26   1   16711680   -1   0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 
[Connection #38]
21   1   23   1   16711680   -1   -900 -2250 -900 -2250 -900 -2250 -900 -2250 -900 -2250 -900 -2250 -900 -2250 -900 -2250 
[Connection #39]
24   1   23   2   255   -1   -350 -675 -350 -675 -350 -675 -350 -675 -350 -675 -350 -675 -350 -675 -350 -675 
[Connection #40]
29   1   30   2   0   -1   0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 
[Connection #41]
35   1   31   3   32768   -1   0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 
[Connection #42]
37   1   40   1   16711680   -1   0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 
[Connection #43]
14   1   36   2   255   -1   0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 
[Connection #44]
13   1   36   1   16711680   -1   0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 
[Connection #45]
14   1   37   2   255   -1   0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 
[Connection #46]
13   1   37   1   16711680   -1   0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 
[Connection #47]
6   1   29   1   0   -1   0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 
[Connection #48]
14   1   28   2   255   -1   0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 
[Connection #49]
13   1   28   1   16711680   -1   0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 
[Connection #50]
42   1   32   2   255   -1   0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 
[Simulation Parameters]
 1.00000000000000E+0001    1.00000000000000E-0002   0   2   1  0   1   1   2   0   4   0
[Logical Levels]
 0.00000000000000E+0000    5.00000000000000E+0000    2.50000000000000E+0000
[Frame Count]
0
[Optimization Parameters Count]
0
[Optimization Control Parameters]
20   5   100   3   10   1   10   1   12345
 1.00000000000000E+0000    0.00000000000000E+0000    0.00000000000000E+0000
OPT.DAT
0
1
[Batch Parameters Count]
0
[Message Options]
BORIS.MSG
