[Version]
7.1.1.313
[File Access]
0   
42418
! 
! 
! 
! 
! 
! Karosszéria gyártósor
! Miklós Árpád
! SZTE
3   1
SETPOINT
8   1
RESET
9   2
CLOCK
11   1
OUTPUT
7   1
[Export Parameter Count]
0
[Block Count]
22
[Block #0]
383   SUPERBLOCK
ITERATOR
150 175 221 226  100
2
1
0 0 0   0
D:\Current Studies\Diplomamunka\Karosszéria gyártósor - Szimuláció\common\register_16bit.SBL
0
[Block #1]
344   FCT1
ITERATOR++
400 250 471 301  100
1
1
0 0 0   0
8
x + 1
[Block #2]
344   FCT1
ITERATOR--
400 100 471 151  100
1
1
0 0 0   0
8
x - 1
[Block #3]
362   COMPARATOR
ITER <= SETP
400 175 471 226  100
2
1
0 0 0   0
1
[Block #4]
362   COMPARATOR
ITER >= SETP
400 25 471 76  100
2
1
0 0 0   0
3
[Block #5]
405   MULTISWITCH
SWITCH(DIREC)
525 100 596 184  100
4
1
0 0 0   0
[Block #6]
448   ENCODER
DIRECTION
525 25 596 76  100
2
1
0 0 0   0
2   0
0
[Block #7]
344   FCT1
OUTPUT
525 325 596 376  100
1
1
0 0 0   0
8
x
[Block #8]
344   FCT1
SETPOINT
25 25 96 76  100
1
1
0 0 0   0
8
x
[Block #9]
353   ANASWITCH2
RESET
25 275 96 351  100
3
1
0 0 0   0
1
[Block #10]
306   CONST
CONST: 0
25 200 96 251  100
0
1
0 0 0   0
 0.00000000000000E+0000  0
[Block #11]
344   FCT1
CLOCK
25 100 96 151  100
1
1
0 0 0   0
8
x
[Block #12]
306   CONST
CONST: 0
150 100 221 151  100
0
1
0 0 0   0
 0.00000000000000E+0000  0
[Block #13]
306   CONST
CONST: 65535
275 100 346 151  100
0
1
0 0 0   0
 6.55350000000000E+0004  0
[Block #14]
345   FCT2
MAX(X, Y)
150 25 221 76  100
2
1
0 0 0   0
9
x+y
[Block #15]
345   FCT2
MIN(X, Y)
275 25 346 76  100
2
1
0 0 0   0
10
x+y
[Block #16]
0   Text
Text
675 150 823 171  100
0
0
0 0 0   0
Ekvivalens C kód:
14   0   0   0   16777215   0   0
ARIAL
[Block #17]
0   Text
Text
675 175 1514 910  100
0
0
0 0 0   0
#define MIN(a, b) (((a) < (b)) ? (a) : (b))#define MAX(a, b) (((a) > (b)) ? (a) : (b))unsigned short int counter_16bit(int setpoint, bool clock, bool reset) {  static bool clock_prev = false, reset_prev = false;  static unsigned short int iterator = 0;  unsigned char direction = 0;    /* Az alapjel értékének az elõjel nélküli, 16-bites értéktartományra kényszerítése. */  setpoint = MAX(setpoint, 0);  setpoint = MIN(setpoint, 65535);    /* Számláló mûvelet elvégzése, ha az órajel alacsony logikai szintrõl magas logikai szintre váltott. */  if(clock &&&& !clock_prev) {    /* A számláló nullázása, ha a reset alacsony logikai szintrõl magas logikai szintre váltott. */    if(reset &&&& !reset_prev) {      iterator = 0;    }    /* A számlálás folytatása, ha a reset nem kezdeményezett törlést. */    else {      /* A számlálás irányának meghatározása. */      if(iterator >= setpoint)        direction |= 1;      if(iterator <= setpoint)        direction |= 2;            /* A számláló növelése, csökkentése vagy változatlanul hagyása az iránytól függõen. */      switch(direction) {      case 1:        iterator--;        break;      case 2:        iterator++;        break;      case 3:        iterator = iterator;        break;      }    }  }    /* Az órajel és a reset jelenlegi szintjének elmentése és a számláló értékének visszaadása. */  clock_prev = clock;  reset_prev = reset;  return iterator;}
10   0   0   0   16777215   0   0
Courier New
[Block #18]
0   Text
Text
675 25 733 46  100
0
0
0 0 0   0
Leírás:
14   0   0   0   16777215   0   0
ARIAL
[Block #19]
0   Text
Text
675 50 1219 134  100
0
0
0 0 0   0
Kétirányú, 16-bites számláló, amelyik az aktuális értékétõl a megadott alapjeligszámol. Amennyiben az alapjel alacsonyabb, mint a számláló aktuális értéke, aszámlálás csökkenõ irányban történik, ellenkezõ esetben növekvõ irányban.A számlálás sebessége az órajeltõl függ. Az órajel periódusidejének és az alapjelneka megfelelõ megválasztásával idõzítõként is használható.
11   0   0   0   16777215   0   0
Arial
[Block #20]
0   Text
Text
675 950 781 971  100
0
0
0 0 0   0
Megjegyzés:
14   0   0   0   16777215   0   0
ARIAL
[Block #21]
0   Text
Text
675 975 1170 1008  100
0
0
0 0 0   0
A fenti C kód csak szemléltetõ jellegû, és csak a blokkdiagram mûködésénekkönnyebb megértését szolgálja.
11   0   0   0   16777215   0   0
Arial
[Connection Count]
21
[Connection #0]
2   1   5   2   0   -1   -25 -25 -25 -25 -25 -25 -25 -25 -25 -25 -25 -25 -25 -25 -25 -25 
[Connection #1]
4   1   6   1   33023   -1   -25 -25 -25 -25 -25 -25 -25 -25 -25 -25 -25 -25 -25 -25 -25 -25 
[Connection #2]
14   1   15   1   255   -1   -25 -25 -25 -25 -25 -25 -25 -25 -25 -25 -25 -25 -25 -25 -25 -25 
[Connection #3]
8   1   14   1   255   -1   0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 
[Connection #4]
15   1   4   2   255   -1   0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 
[Connection #5]
11   1   0   2   33023   -1   0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 
[Connection #6]
9   1   0   1   0   -1   0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 
[Connection #7]
1   1   5   3   0   -1   -25 -25 -25 -25 -25 -25 -25 -25 -25 -25 -25 -25 -25 -25 -25 -25 
[Connection #8]
3   1   6   2   33023   -1   -25 -25 -25 -25 -25 -25 -25 -25 -25 -25 -25 -25 -25 -25 -25 -25 
[Connection #9]
15   1   3   2   255   -1   0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 
[Connection #10]
6   1   5   1   33023   -1   -25 -25 -25 -25 -25 -25 -25 -25 -25 -25 -25 -25 -25 -25 -25 -25 
[Connection #11]
13   1   15   2   0   -1   -25 -25 -25 -25 -25 -25 -25 -25 -25 -25 -25 -25 -25 -25 -25 -25 
[Connection #12]
12   1   14   2   0   -1   -25 -25 -25 -25 -25 -25 -25 -25 -25 -25 -25 -25 -25 -25 -25 -25 
[Connection #13]
10   1   9   1   32768   -1   0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 
[Connection #14]
0   1   3   1   16711680   -1   -25 -25 -25 -25 -25 -25 -25 -25 -25 -25 -25 -25 -25 -25 -25 -25 
[Connection #15]
0   1   2   1   16711680   -1   -25 -25 -25 -25 -25 -25 -25 -25 -25 -25 -25 -25 -25 -25 -25 -25 
[Connection #16]
0   1   1   1   16711680   -1   -25 -25 -25 -25 -25 -25 -25 -25 -25 -25 -25 -25 -25 -25 -25 -25 
[Connection #17]
0   1   4   1   16711680   -1   -25 -25 -25 -25 -25 -25 -25 -25 -25 -25 -25 -25 -25 -25 -25 -25 
[Connection #18]
0   1   5   4   16711680   -1   -25 -25 -25 -25 -25 -25 -25 -25 -25 -25 -25 -25 -25 -25 -25 -25 
[Connection #19]
0   1   7   1   16711680   -1   -25 -25 -25 -25 -25 -25 -25 -25 -25 -25 -25 -25 -25 -25 -25 -25 
[Connection #20]
5   1   9   3   0   -1   0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 
[Simulation Parameters]
 1.00000000000000E+0001    1.00000000000000E-0002   0   2   1  0   1   1   2   0   4   0
[Logical Levels]
 0.00000000000000E+0000    5.00000000000000E+0000    2.50000000000000E+0000
[Frame Count]
0
[Optimization Parameters Count]
0
[Optimization Control Parameters]
20   5   100   3   10   1   10   1   12345
 1.00000000000000E+0000    0.00000000000000E+0000    0.00000000000000E+0000
OPT.DAT
0
1
[Batch Parameters Count]
0
[Message Options]
BORIS.MSG
